<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>hueryn Blog</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Noto+Sans+JP:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="blog.css">
</head>
<body>
  <header>
    <img src="header-image.jpg" alt="hueryn header" class="header-img">
    <div class="header-text">
      <h1>hueryn Blog</h1>
      <nav>
        <a href="profile.html">Home</a>
      </nav>
    </div>
  </header>
  <main>
    <section class="blog-list">
      <div id="blog-buttons" class="blog-buttons"></div>
      <div id="blog-content" class="blog-content-ajax"></div>
    </section>
  </main>
  <footer>
    &copy; 2025 irorinri
  </footer>
  <script>
    // --- 記事データ定義（順番、タイトル、日付、ファイル名） ---
    const blogPosts = [
      { id: 1, date: "2025-06-25", title: "活動を振り返って", file: "blog/2025-06-25.html" },
      { id: 2, date: "2025-06-21", title: "新しい配信機材を導入", file: "blog/2025-06-21.html" },
      { id: 3, date: "2025-06-10", title: "初めてのイラスト展示", file: "blog/2025-06-10.html" }
      // ここに記事を追加していく
    ];

    // --- ボタン生成 ---
    function generateBlogButtons() {
      const container = document.getElementById("blog-buttons");
      container.innerHTML = "";
      blogPosts.forEach(post => {
        const btn = document.createElement("button");
        btn.className = "blog-button";
        btn.innerHTML = `<span class="date">${post.date}</span> <span class="title">${post.title}</span>`;
        btn.addEventListener("click", function() {
          loadBlogContent(post.id, post.file);
          document.querySelectorAll(".blog-button").forEach(b => b.classList.remove("selected"));
          btn.classList.add("selected");
        });
        container.appendChild(btn);
      });
    }

    // --- 記事の読み込み ---
    function loadBlogContent(id, file) {
      fetch(file)
        .then(res => res.text())
        .then(html => {
          document.getElementById("blog-content").innerHTML = html;
        })
        .catch(err => {
          document.getElementById("blog-content").innerHTML = "<p>記事の読み込みに失敗しました。</p>";
        });
    }

    // --- 初期化 ---
    document.addEventListener("DOMContentLoaded", function() {
      generateBlogButtons();
      if(blogPosts.length > 0) {
        // 1記事目をデフォルト表示
        loadBlogContent(blogPosts[0].id, blogPosts[0].file);
        document.querySelectorAll(".blog-button")[0].classList.add("selected");
      }
    });
  </script>
</body>
</html>
