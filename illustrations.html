<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="このサイトは、キャラクター、絵、漫画、小説など、多彩なコンテンツを提供する色倫理の個人ブログです。">
  <title>illustrations</title>
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="https://unpkg.com/photoswipe@5/dist/photoswipe.css">
  <link rel="apple-touch-icon" href="apple-touch-icon.png">
  <style>

  
  .gallery {
    display: flex; 
    flex-wrap: wrap; 
    justify-content: center; 
    gap: 10px; 
    padding: 20px; 
    margin-top: 5px; 
    margin-bottom: 1000px; 
  }

  /* ギャラリー内のリンク要素のスタイル */
  .gallery a {
    width: 18%; 
    max-width: 100px; 
    text-decoration: none; 
  }

  /* ギャラリー内の画像のスタイル */
  .gallery img {
    width: 100%; /* 親要素の幅に合わせる */
    height: auto; /* アスペクト比を維持して高さを自動調整 */
    border-radius: 5px; /* 角を丸める */
    
    transition: transform 0.3s, box-shadow 0.3s; /* ホバー時のアニメーション */
  }

  /* 画像ホバー時のスタイル */
  .gallery img:hover {
    transform: scale(1.1); /* 拡大 */
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2); /* 影を強調 */
  }

  /* 全体ギャラリー要素の追加スタイル */
  .image-gallery {
    display: block; /* 子要素をブロック要素として表示 */
    overflow: auto; /* スクロール可能にする */
    margin-bottom: 1000px; /* 下部の余白を大きく確保 */
  }

  /* メディアクエリ：画面幅768px以下の場合 */
  @media (max-width: 768px) {
    .gallery a {
      width: 24%; /* 横幅を親要素の24%に設定 */
    }
  }

  /* メディアクエリ：画面幅480px以下の場合 */
  @media (max-width: 480px) {
    .gallery a {
      width: 30%; /* 横幅を親要素の30%に設定 */
    }
  }

  /* PhotoSwipeカスタムキャプションのスタイル */
  .pswp__custom-caption {
    color: #000000 !important; /* キャプションのテキスト色を白に設定 */
    text-align: center !important; /* キャプションを中央揃え */
    padding: 5px; /* キャプションの内側の余白 */
    position: absolute; /* 親要素に相対的に配置 */
    bottom: 30px; /* 親要素の下部から30pxの位置 */
    width: 100%; /* キャプションの幅を全幅に設定 */
    z-index: 1000; /* 他の要素より前面に表示 */
    visibility: visible; /* 常に表示 */
  }

  /* PhotoSwipeカウンターを非表示にする */
  .pswp__counter {
    display: none; /* カウンターを非表示 */
  }


.suzuri-btn-wrapper {
  display: flex;
  justify-content: center;
  margin-top: 102px;
}

.suzuri-btn {
  background: #9be3ff;
  color: white;
  font-family: inherit;
  font-weight: bold;
  font-size: 0.95em;
  border: none;
  border-radius: 22px;
  padding: 0.5em 1.4em;
  text-decoration: none;
  
  transition: background 0.18s, transform 0.12s;
  letter-spacing: 0.05em;
  cursor: pointer;
}
.suzuri-btn:hover {
  background: #23a2d7;
  transform: translateY(-2px) scale(1.04);
}
/* activeだけ色を変えたい場合も明示的に */
.suzuri-btn:active {
  background: #18b2d0;
  color: white;
}


    
    
</style>
</head>
<body>


<div class="suzuri-btn-wrapper">
  <a class="suzuri-btn" href="https://suzuri.jp/Irorinri" target="_blank" rel="noopener">Buy Stickers</a>
</div>
  
<nav>
  <a href="index.html">folks</a>
  <a href="illustrations.html">draws</a>
  <a href="gallery.html">comix</a>
  <a href="story.html">tales</a>
  <a href="blog.html">stuff</a>
</nav>

<div class="gallery"></div>

<script type="module">
  import PhotoSwipeLightbox from 'https://unpkg.com/photoswipe@5/dist/photoswipe-lightbox.esm.min.js';

  const images = [
    { src: 'images/1.webp', width: 1000, height: 1000, date: '2024-11-10' },
    { src: 'images/2.webp', width: 1000, height: 1000, date: '2024-11-11' },
    { src: 'images/3.webp', width: 1000, height: 1000, date: '2024-11-13' },
    { src: 'images/4.webp', width: 1000, height: 1000, date: '2024-11-14' },
    { src: 'images/5.webp', width: 1000, height: 1000, date: '2024-11-15' },
    { src: 'images/6.webp', width: 1000, height: 1000, date: '2024-11-23' },
    { src: 'images/7.webp', width: 1000, height: 1000, date: '2024-11-26' },
    { src: 'images/8.webp', width: 1000, height: 1000, date: '2024-11-30' },
    { src: 'images/9.webp', width: 1000, height: 1000, date: '2024-12-08' },
    { src: 'images/10.webp', width: 1000, height: 1000, date: '2024-12-21' },
    { src: 'images/11.webp', width: 1000, height: 1000, date: '2024-12-22' },
    { src: 'images/12.webp', width: 1000, height: 1000, date: '2025-01-28' },
    { src: 'images/14.webp', width: 1000, height: 1000, date: '2025-01-30' },
    { src: 'images/15.webp', width: 1000, height: 1000, date: '2025-03-05' },
    { src: 'images/16.webp', width: 1000, height: 1000, date: '2025-04-10' },
    { src: 'images/17.webp', width: 1000, height: 1000, date: '2025-05-14' },
    { src: 'images/18.webp', width: 1000, height: 1000, date: '2025-05-16' },
    { src: 'images/19.webp', width: 1000, height: 1000, date: '2025-06-20' },
    { src: 'images/20.webp', width: 1000, height: 1000, date: '2025-06-23' },
    { src: 'images/21.webp', width: 1000, height: 1000, date: '2025-06-25' },
    
    
    
    
    
  ];

  const galleryElement = document.querySelector('.gallery');
  images.reverse().forEach(({ src, width, height, date }) => {
    galleryElement.innerHTML += `
      <a href="${src}" data-pswp-width="${width}" data-pswp-height="${height}">
        <img src="${src}" alt="イラスト">
        <span class="hidden-caption-content" style="display:none;">${date}</span>
      </a>`;
  });

  const lightbox = new PhotoSwipeLightbox({
    gallery: '.gallery',
    children: 'a',
    pswpModule: () => import('https://unpkg.com/photoswipe@5/dist/photoswipe.esm.min.js'),
    loop: false, 
  });

  lightbox.on('uiRegister', () => {
    lightbox.pswp.ui.registerElement({
      name: 'custom-counter',
      order: 5,
      isButton: false,
      appendTo: 'bar',
      html: '',
      onInit: (el, pswp) => {
        Object.assign(el.style, {
          color: 'white', fontSize: '15px', fontFamily: 'Arial, sans-serif', fontWeight: 'bold',
          position: 'relative', top: '20px', left: '30px', padding: '2px',
          webkitTextStroke: '1px rgba(128, 128, 128, 0.8)', textStroke: '1px rgba(128, 128, 128, 0.8)',
        });
        pswp.on('change', () => {
          const total = pswp.getNumItems();
          const index = total - pswp.currIndex;
          el.innerHTML = `${index} / ${total}`;
        });
      },
    });

    lightbox.pswp.ui.registerElement({
      name: 'custom-caption',
      order: 9,
      isButton: false,
      appendTo: 'wrapper',
      html: '',
      onInit: (el, pswp) => {
        pswp.on('change', () => {
          const caption = pswp.currSlide?.data.element.querySelector('.hidden-caption-content');
          el.innerHTML = caption ? caption.textContent : 'キャプションなし';
        });
      },
    });

    const style = document.createElement('style');
    style.innerHTML = `.pswp__bg { background-color: #ADD8E6 !important; }`;
    document.head.appendChild(style);
  });

  lightbox.init();



// ページ復元（戻る・進む）時にもblurさせる
window.addEventListener('pageshow', function(event) {
  // bfcacheからの復元（persisted=true）の場合は強制リロード
  if (event.persisted) {
    window.location.reload();
  }
});
  
// 念のため、クリック時にもblur
document.addEventListener('DOMContentLoaded', function() {
  document.querySelectorAll('.suzuri-btn').forEach(function(btn) {
    btn.addEventListener('mouseup', function() {
      btn.blur();
    });
  });
});
  

</script>



  
<footer>
  © irorinri. All Rights Reserved.
</footer>

</body>
</html>
